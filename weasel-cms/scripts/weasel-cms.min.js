var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function c(f){return f}function a(){return !1}function d(){}function b(){}d.prototype={chain:function(e,g){var f=this[e];if(!f){throw Error("unknown hook "+e)}this[e]=f===c?g:function(h){return g(f(h))}},set:function(g,f){if(!this[g]){throw Error("unknown hook "+g)}this[g]=f},addNoop:function(e){this[e]=c},addFalse:function(f){this[f]=a}},Markdown.HookCollection=d,b.prototype={set:function(g,f){this["s_"+g]=f},get:function(f){return this["s_"+f]}},Markdown.Converter=function(){function ao(f){return f=f.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(k,h,m,i,l,g){return h=h.toLowerCase(),z.set(h,n(m)),l?i:(g&&J.set(h,g.replace(/"/g,"&quot;")),"")})}function ac(f){return f=f.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,ag),f=f.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,ag),f=f.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,ag),f=f.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,ag),f=f.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,ag)}function ag(g,f){var h=f;return h=h.replace(/^\n+/,""),h=h.replace(/\n+$/g,""),h="\n\n~K"+(U.push(h)-1)+"K\n\n"}function at(g,h){g=am(g);var f="<hr />\n";return g=g.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,f),g=g.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,f),g=g.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,f),g=ap(g),g=aa(g),g=aj(g),g=ac(g),g=P(g,h)}function ak(f){return f=Z(f),f=aq(f),f=Y(f),f=ad(f),f=ai(f),f=X(f),f=f.replace(/~P/g,"://"),f=n(f),f=ar(f),f=f.replace(/  +\n/g," <br>\n")}function aq(g){var f=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return g=g.replace(f,function(i){var h=i.replace(/(.)<\/?code>(?=.)/g,"$1`");return h=M(h,"!"==i.charAt(1)?"\\`*_/":"\\`*_")})}function ai(f){return f=f.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,ab),f=f.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,ab),f=f.replace(/(\[([^\[\]]+)\])()()()()()/g,ab)}function ab(x,D,m,h,k,B,q,A){void 0==A&&(A="");var p=D,C=m.replace(/:\/\//g,"~P"),E=h.toLowerCase(),w=k,v=A;if(""==w){if(""==E&&(E=C.toLowerCase().replace(/ ?\n/g," ")),w="#"+E,void 0!=z.get(E)){w=z.get(E),void 0!=J.get(E)&&(v=J.get(E))}else{if(p.search(/\(\s*\)$/m)<=-1){return p}w=""}}w=F(w),w=M(w,"*_");var y='<a href="'+w+'"';return""!=v&&(v=af(v),v=M(v,"*_"),y+=' title="'+v+'"'),y+=">"+C+"</a>"}function ad(f){return f=f.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,an),f=f.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,an)}function af(f){return f.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function an(x,D,m,h,k,B,q,A){var p=D,C=m,E=h.toLowerCase(),w=k,v=A;if(v||(v=""),""==w){if(""==E&&(E=C.toLowerCase().replace(/ ?\n/g," ")),w="#"+E,void 0==z.get(E)){return p}w=z.get(E),void 0!=J.get(E)&&(v=J.get(E))}C=M(af(C),"*_[]()"),w=M(w,"*_");var y='<img src="'+w+'" alt="'+C+'"';return v=af(v),v=M(v,"*_"),y+=' title="'+v+'"',y+=" />"}function am(f){return f=f.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(h,g){return"<h1>"+ak(g)+"</h1>\n\n"}),f=f.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(h,g){return"<h2>"+ak(g)+"</h2>\n\n"}),f=f.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(i,g,k){var h=g.length;return"<h"+h+">"+ak(k)+"</h"+h+">\n\n"})}function ap(g){g+="~0";var f=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return j?g=g.replace(f,function(l,i,p){var k=i,m=p.search(/[*+-]/g)>-1?"ul":"ol",h=al(k,m);return h=h.replace(/\s+$/,""),h="<"+m+">"+h+"</"+m+">\n"}):(f=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,g=g.replace(f,function(p,l,u,m){var q=l,h=u,k=m.search(/[*+-]/g)>-1?"ul":"ol",s=al(h,k);return s=q+"<"+k+">\n"+s+"</"+k+">\n"})),g=g.replace(/~0/,"")}function al(h,f){j++,h=h.replace(/\n{2,}$/,"\n"),h+="~0";var k=Q[f],g=RegExp("(^[ \\t]*)("+k+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+k+")[ \\t]+))","gm"),i=!1;return h=h.replace(g,function(s,p,w,q){var v=q,m=/\n\n$/.test(v),o=m||v.search(/\n{2,}/)>-1;return o||i?v=at(r(v),!0):(v=ap(r(v)),v=v.replace(/\n$/,""),v=ak(v)),i=m,"<li>"+v+"</li>\n"}),h=h.replace(/~0/g,""),j--,h}function aa(f){return f+="~0",f=f.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(i,g,l){var h=g,k=l;return h=V(r(h)),h=au(h),h=h.replace(/^\n+/g,""),h=h.replace(/\n+$/g,""),h="<pre><code>"+h+"\n</code></pre>","\n\n"+h+"\n\n"+k}),f=f.replace(/~0/,"")}function ah(f){return f=f.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(U.push(f)-1)+"K\n\n"}function Z(f){return f=f.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(i,g,l,h){var k=h;return k=k.replace(/^([ \t]*)/g,""),k=k.replace(/[ \t]*$/g,""),k=V(k),k=k.replace(/:\/\//g,"~P"),g+"<code>"+k+"</code>"})}function V(f){return f=f.replace(/&/g,"&amp;"),f=f.replace(/</g,"&lt;"),f=f.replace(/>/g,"&gt;"),f=M(f,"*_{}[]\\",!1)}function ar(f){return f=f.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),f=f.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function aj(f){return f=f.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(h,g){var i=g;return i=i.replace(/^[ \t]*>[ \t]?/gm,"~0"),i=i.replace(/~0/g,""),i=i.replace(/^[ \t]+$/gm,""),i=at(i),i=i.replace(/(^|\n)/g,"$1  "),i=i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(l,k){var m=k;return m=m.replace(/^  /gm,"~0"),m=m.replace(/~0/g,"")}),ah("<blockquote>\n"+i+"\n</blockquote>")})}function P(k,s){k=k.replace(/^\n+/g,""),k=k.replace(/\n+$/g,"");for(var h=k.split(/\n{2,}/g),f=[],g=/~K(\d+)K/,p=h.length,m=0;p>m;m++){var i=h[m];g.test(i)?f.push(i):/\S/.test(i)&&(i=ak(i),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",f.push(i))}if(!s){p=f.length;for(var m=0;p>m;m++){for(var q=!0;q;){q=!1,f[m]=f[m].replace(/~K(\d+)K/g,function(o,l){return q=!0,U[l]})}}}return f.join("\n\n")}function n(f){return f=f.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),f=f.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}function Y(f){return f=f.replace(/\\(\\)/g,G),f=f.replace(/\\([`*_{}\[\]()>#+-.!])/g,G)}function X(g){g=g.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");var f=function(i,h){return'<a href="'+h+'">'+ae.plainLinkText(h)+"</a>"};return g=g.replace(/<((https?|ftp):[^'">\s]+)>/gi,f)}function N(f){return f=f.replace(/~E(\d+)E/g,function(h,g){var i=parseInt(g);return String.fromCharCode(i)})}function r(f){return f=f.replace(/^(\t|[ ]{1,4})/gm,"~0"),f=f.replace(/~0/g,"")}function au(h){if(!/\t/.test(h)){return h}var f,i=["    ","   ","  "," "],g=0;return h.replace(/[\n\t]/g,function(k,l){return"\n"===k?(g=l+1,k):(f=(l-g)%4,g=l+1,i[f])})}function F(g){if(!g){return""}var f=g.length;return g.replace(O,function(h,e){return"~D"==h?"%24":":"!=h||e!=f-1&&!/[0-9\/]/.test(g.charAt(e+1))?"%"+h.charCodeAt(0).toString(16):":"})}function M(h,f,k){var g="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";k&&(g="\\\\"+g);var i=RegExp(g,"g");return h=h.replace(i,G)}function G(g,f){var h=f.charCodeAt(0);return"~E"+h+"E"}var ae=this.hooks=new d;ae.addNoop("plainLinkText"),ae.addNoop("preConversion"),ae.addNoop("postConversion");var z,J,U,j;this.makeHtml=function(e){if(z){throw Error("Recursive call to converter.makeHtml")}return z=new b,J=new b,U=[],j=0,e=ae.preConversion(e),e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=au(e),e=e.replace(/^[ \t]+$/gm,""),e=ac(e),e=ao(e),e=at(e),e=N(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),e=ae.postConversion(e),U=J=z=null,e};var Q={ol:"\\d+[.]",ul:"[*+-]"},O=/(?:["'*()[\]:]|~D)/g}}(),function(){function J(){}function x(d,a,f,c){this.buttonBar=A.getElementById(d+c),this.preview=A.getElementById(a+c),this.input=A.getElementById(f+c)}function C(R,Y){var r,l,U,O=this,T=[],X=0,Z="none",h=function(c,a){Z!=c&&(Z=c,a||P()),G.isIE&&"moving"==Z?U=null:l=setTimeout(Q,1)},Q=function(a){U=new z(Y,a),l=void 0};this.setCommandMode=function(){Z="command",P(),l=setTimeout(Q,0)},this.canUndo=function(){return X>1},this.canRedo=function(){return T[X+1]?!0:!1},this.undo=function(){O.canUndo()&&(r?(r.restore(),r=null):(T[X]=new z(Y),T[--X].restore(),R&&R())),Z="none",Y.input.focus(),Q()},this.redo=function(){O.canRedo()&&(T[++X].restore(),R&&R()),Z="none",Y.input.focus(),Q()};var P=function(){var a=U||new z(Y);return a?"moving"==Z?void (r||(r=a)):(r&&(T[X-1].text!=r.text&&(T[X++]=r),r=null),T[X++]=a,T[X+1]=null,void (R&&R())):!1},S=function(d){var a=!1;if(d.ctrlKey||d.metaKey){var f=d.charCode||d.keyCode,c=String.fromCharCode(f);switch(c.toLowerCase()){case"y":O.redo(),a=!0;break;case"z":d.shiftKey?O.redo():O.undo(),a=!0}}return a?(d.preventDefault&&d.preventDefault(),void (window.event&&(window.event.returnValue=!1))):void 0},W=function(c){if(!c.ctrlKey&&!c.metaKey){var a=c.keyCode;a>=33&&40>=a||a>=63232&&63235>=a?h("moving"):8==a||46==a||127==a?h("deleting"):13==a?h("newlines"):27==a?h("escape"):(16>a||a>20)&&91!=a&&h("typing")}},N=function(){E.addEvent(Y.input,"keypress",function(c){!c.ctrlKey&&!c.metaKey||89!=c.keyCode&&90!=c.keyCode||c.preventDefault()});var a=function(){(G.isIE||U&&U.text!=Y.input.value)&&void 0==l&&(Z="paste",P(),Q())};E.addEvent(Y.input,"keydown",S),E.addEvent(Y.input,"keydown",W),E.addEvent(Y.input,"mousedown",function(){h("moving")}),Y.input.onpaste=a,Y.input.ondrop=a},V=function(){N(),Q(!0),P()};V()}function z(a,e){var c=this,d=a.input;this.init=function(){E.isVisible(d)&&(e||!A.activeElement||A.activeElement===d)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=d.scrollTop,(!this.text&&d.selectionStart||0===d.selectionStart)&&(this.text=d.value))},this.setInputAreaSelection=function(){if(E.isVisible(d)){if(void 0===d.selectionStart||G.isOpera){if(A.selection){if(A.activeElement&&A.activeElement!==d){return}d.focus();var f=d.createTextRange();f.moveStart("character",-d.value.length),f.moveEnd("character",-d.value.length),f.moveEnd("character",c.end),f.moveStart("character",c.start),f.select()}}else{d.focus(),d.selectionStart=c.start,d.selectionEnd=c.end,d.scrollTop=c.scrollTop}}},this.setInputAreaSelectionStartEnd=function(){if(a.ieCachedRange||!d.selectionStart&&0!==d.selectionStart){if(A.selection){c.text=E.fixEolChars(d.value);var l=a.ieCachedRange||A.selection.createRange(),o=E.fixEolChars(l.text),f="",h=f+o+f;l.text=h;var m=E.fixEolChars(d.value);l.moveStart("character",-h.length),l.text=o,c.start=m.indexOf(f),c.end=m.lastIndexOf(f)-f.length;var g=c.text.length-E.fixEolChars(d.value).length;if(g){for(l.moveStart("character",-o.length);g--;){o+="\n",c.end+=1}l.text=o}a.ieCachedRange&&(c.scrollTop=a.ieCachedScrollTop),a.ieCachedRange=null,this.setInputAreaSelection()}}else{c.start=d.selectionStart,c.end=d.selectionEnd}},this.restore=function(){void 0!=c.text&&c.text!=d.value&&(d.value=c.text),this.setInputAreaSelection(),d.scrollTop=c.scrollTop},this.getChunks=function(){var f=new J;return f.before=E.fixEolChars(c.text.substring(0,c.start)),f.startTag="",f.selection=E.fixEolChars(c.text.substring(c.start,c.end)),f.endTag="",f.after=E.fixEolChars(c.text.substring(c.end)),f.scrollTop=c.scrollTop,f},this.setChunks=function(f){f.before=f.before+f.startTag,f.after=f.endTag+f.after,this.start=f.before.length,this.end=f.before.length+f.selection.length,this.text=f.before+f.selection+f.after,this.scrollTop=f.scrollTop},this.init()}function B(aa,O,U){var R,S,ae,X=3000,ac="delayed",P=function(c,a){E.addEvent(c,"input",a),c.onpaste=a,c.ondrop=a,E.addEvent(c,"keypress",a),E.addEvent(c,"keydown",a)},Z=function(){var a=0;return window.innerHeight?a=window.pageYOffset:A.documentElement&&A.documentElement.scrollTop?a=A.documentElement.scrollTop:A.body&&(a=A.body.scrollTop),a},Y=function(){if(O.preview){var d=O.input.value;if(!d||d!=ae){ae=d;var c=(new Date).getTime();d=aa.makeHtml(d);var a=(new Date).getTime();S=a-c,h(d)}}},ab=function(){if(R&&(clearTimeout(R),R=void 0),"manual"!==ac){var a=0;"delayed"===ac&&(a=S),a>X&&(a=X),R=setTimeout(Y,a)}},N=function(a){return a.scrollHeight>a.clientHeight?a.scrollTop/(a.scrollHeight-a.clientHeight):1},V=function(){O.preview&&(O.preview.scrollTop=(O.preview.scrollHeight-O.preview.clientHeight)*N(O.preview))};this.refresh=function(a){a?(ae="",Y()):ab()},this.processingTime=function(){return S};var u,l=!0,ad=function(c){var f=O.preview,a=f.parentNode,d=f.nextSibling;a.removeChild(f),f.innerHTML=c,d?a.insertBefore(f,d):a.appendChild(f)},W=function(a){O.preview.innerHTML=a},Q=function(c){if(u){return u(c)}try{W(c),u=W}catch(a){u=ad,u(c)}},h=function(c){var a=q.getTop(O.input)-Z();if(O.preview&&(Q(c),U()),V(),l){return void (l=!1)}var d=q.getTop(O.input)-Z();G.isIE?setTimeout(function(){window.scrollBy(0,d-a)},0):window.scrollBy(0,d-a)},p=function(){P(O.input,ab),Y(),O.preview&&(O.preview.scrollTop=0)};p()}function M(O,V,h,g,R,r,Q){function U(n){if(l.focus(),n.textOp){h&&h.setCommandMode();var f=new z(V);if(!f){return}var m=f.getChunks(),o=function(){l.focus(),m&&f.setChunks(m),f.restore(),g.refresh()},d=n.textOp(m,o);d||o()}n.execute&&n.execute(h)}function W(m,t){var f="0px",s="-20px",c="-40px",d=m.getElementsByTagName("span")[0];t?(d.style.backgroundPosition=m.XShift+" "+f,m.onmouseover=function(){d.style.backgroundPosition=this.XShift+" "+c},m.onmouseout=function(){d.style.backgroundPosition=this.XShift+" "+f},G.isIE&&(m.onmousedown=function(){A.activeElement&&A.activeElement!==V.input||(V.ieCachedRange=document.selection.createRange(),V.ieCachedScrollTop=V.input.scrollTop)}),m.isHelp||(m.onclick=function(){return this.onmouseout&&this.onmouseout(),U(this),!1})):(d.style.backgroundPosition=m.XShift+" "+s,m.onmouseover=m.onmouseout=m.onclick=function(){})}function N(a){return"string"==typeof a&&(a=R[a]),function(){a.apply(R,arguments)}}function P(){var v=V.buttonBar,i=document.createElement("ul");i.id="wmd-button-row"+O,i.className="wmd-button-row",i=v.appendChild(i);var t=0,e=function(w,Y,o,u){var X=document.createElement("li");X.className="wmd-button",X.style.left=t+"px",t+=25;var d=document.createElement("span");return X.id=w+O,X.appendChild(d),X.title=Y,X.XShift=o,u&&(X.textOp=u),W(X,!0),i.appendChild(X),X},c=function(a){var d=document.createElement("li");d.className="wmd-spacer wmd-spacer"+a,d.id="wmd-spacer"+a+O,i.appendChild(d),t+=25};S.bold=e("wmd-bold-button",Q("bold"),"0px",N("doBold")),S.italic=e("wmd-italic-button",Q("italic"),"-20px",N("doItalic")),c(1),S.link=e("wmd-link-button",Q("link"),"-40px",N(function(d,a){return this.doLinkOrImage(d,a,!1)})),S.quote=e("wmd-quote-button",Q("quote"),"-60px",N("doBlockquote")),S.code=e("wmd-code-button",Q("code"),"-80px",N("doCode")),S.image=e("wmd-image-button",Q("image"),"-100px",N(function(d,a){return this.doLinkOrImage(d,a,!0)})),c(2),S.olist=e("wmd-olist-button",Q("olist"),"-120px",N(function(d,a){this.doList(d,a,!0)})),S.ulist=e("wmd-ulist-button",Q("ulist"),"-140px",N(function(d,a){this.doList(d,a,!1)})),S.heading=e("wmd-heading-button",Q("heading"),"-160px",N("doHeading")),S.hr=e("wmd-hr-button",Q("hr"),"-180px",N("doHorizontalRule")),c(3),S.undo=e("wmd-undo-button",Q("undo"),"-200px",null),S.undo.execute=function(a){a&&a.undo()};var f=Q(/win/.test(H.platform.toLowerCase())?"redo":"redomac");if(S.redo=e("wmd-redo-button",f,"-220px",null),S.redo.execute=function(a){a&&a.redo()},r){var m=document.createElement("li"),s=document.createElement("span");m.appendChild(s),m.className="wmd-button wmd-help-button",m.id="wmd-help-button"+O,m.XShift="-240px",m.isHelp=!0,m.style.right="0px",m.title=Q("help"),m.onclick=r.handler,W(m,!0),i.appendChild(m),S.help=m}T()}function T(){h&&(W(S.undo,h.canUndo()),W(S.redo,h.canRedo()))}var l=V.input,S={};P();var p="keydown";G.isOpera&&(p="keypress"),E.addEvent(l,p,function(c){if((c.ctrlKey||c.metaKey)&&!c.altKey&&!c.shiftKey){var a=c.charCode||c.keyCode,d=String.fromCharCode(a).toLowerCase();switch(d){case"b":U(S.bold);break;case"i":U(S.italic);break;case"l":U(S.link);break;case"q":U(S.quote);break;case"k":U(S.code);break;case"g":U(S.image);break;case"o":U(S.olist);break;case"u":U(S.ulist);break;case"h":U(S.heading);break;case"r":U(S.hr);break;case"y":U(S.redo);break;case"z":U(c.shiftKey?S.redo:S.undo);break;default:return}c.preventDefault&&c.preventDefault(),window.event&&(window.event.returnValue=!1)}}),E.addEvent(l,"keyup",function(c){if(c.shiftKey&&!c.ctrlKey&&!c.metaKey){var a=c.charCode||c.keyCode;if(13===a){var d={};d.textOp=N("doAutoindent"),U(d)}}}),G.isIE&&E.addEvent(l,"keydown",function(c){var a=c.keyCode;return 27===a?!1:void 0}),this.setUndoRedoButtonStates=T}function F(c,a){this.hooks=c,this.getString=a}function L(a){return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(d,c,f){return c=c.replace(/\?.*$/,function(g){return g.replace(/\+/g," ")}),c=decodeURIComponent(c),c=encodeURI(c).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),c=c.replace(/\?.*$/,function(g){return g.replace(/\+/g,"%2b")}),f&&(f=f.trim?f.trim():f.replace(/^\s*/,"").replace(/\s*$/,""),f=f.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),f?c+' "'+f+'"':c})}var E={},q={},y={},A=window.document,I=window.RegExp,H=window.navigator,K={lineLength:72},G={isIE:/msie/.test(H.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(H.userAgent.toLowerCase())||/msie 5/.test(H.userAgent.toLowerCase()),isOpera:/opera/.test(H.userAgent.toLowerCase())},k={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"},D="http://",j="http://";Markdown.Editor=function(m,h,n){n=n||{},"function"==typeof n.handler&&(n={helpButton:n}),n.strings=n.strings||{},n.helpButton&&(n.strings.help=n.strings.help||n.helpButton.title);var a=function(c){return n.strings[c]||k[c]};h=h||"",idButton="wmd-button-bar",idPreview="wmd-preview",idInput="wmd-input",n&&(n.hasOwnProperty("button")&&(idButton=n.button),n.hasOwnProperty("preview")&&(idPreview=n.preview),n.hasOwnProperty("input")&&(idInput=n.input));var d=this.hooks=new Markdown.HookCollection;d.addNoop("onPreviewRefresh"),d.addNoop("postBlockquoteCreation"),d.addFalse("insertImageDialog"),this.getConverter=function(){return m};var g,i=this;this.run=function(){if(!g){g=new x(idButton,idPreview,idInput,h);var l,o,f=new F(d,a),e=new B(m,g,function(){d.onPreviewRefresh()});/\?noundo/.test(A.location.href)||(l=new C(function(){e.refresh(),o&&o.setUndoRedoButtonStates()},g),this.textOperation=function(p){l.setCommandMode(),p(),i.refreshPreview()}),o=new M(h,g,l,e,f,n.helpButton,a),o.setUndoRedoButtonStates();var c=i.refreshPreview=function(){e.refresh(!0)};c()}}},J.prototype.findTags=function(d,a){var f,c=this;d&&(f=E.extendRegExp(d,"","$"),this.before=this.before.replace(f,function(g){return c.startTag=c.startTag+g,""}),f=E.extendRegExp(d,"^",""),this.selection=this.selection.replace(f,function(g){return c.startTag=c.startTag+g,""})),a&&(f=E.extendRegExp(a,"","$"),this.selection=this.selection.replace(f,function(g){return c.endTag=g+c.endTag,""}),f=E.extendRegExp(a,"^",""),this.after=this.after.replace(f,function(g){return c.endTag=g+c.endTag,""}))},J.prototype.trimWhitespace=function(d){var a,f,c=this;d?a=f="":(a=function(g){return c.before+=g,""},f=function(g){return c.after=g+c.after,""}),this.selection=this.selection.replace(/^(\s*)/,a).replace(/(\s*)$/,f)},J.prototype.skipLines=function(d,a,g){void 0===d&&(d=1),void 0===a&&(a=1),d++,a++;var c,f;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+I.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+I.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+I.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+I.$1,this.before){for(c=f="";d--;){c+="\\n?",f+="\n"}g&&(c="\\n*"),this.before=this.before.replace(new I(c+"$",""),f)}if(this.after){for(c=f="";a--;){c+="\\n?",f+="\n"}g&&(c="\\n*"),this.after=this.after.replace(new I(c,""),f)}},E.isVisible=function(a){return window.getComputedStyle?"none"!==window.getComputedStyle(a,null).getPropertyValue("display"):a.currentStyle?"none"!==a.currentStyle.display:void 0},E.addEvent=function(c,a,d){c.attachEvent?c.attachEvent("on"+a,d):c.addEventListener(a,d,!1)},E.removeEvent=function(c,a,d){c.detachEvent?c.detachEvent("on"+a,d):c.removeEventListener(a,d,!1)},E.fixEolChars=function(a){return a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n")},E.extendRegExp=function(d,a,g){(null===a||void 0===a)&&(a=""),(null===g||void 0===g)&&(g="");var c,f=""+d;return f=f.replace(/\/([gim]*)$/,function(i,h){return c=h,""}),f=f.replace(/(^\/|\/$)/g,""),f=a+f+g,new I(f,c)},q.getTop=function(c,a){var d=c.offsetTop;if(!a){for(;c=c.offsetParent;){d+=c.offsetTop}}return d},q.getHeight=function(a){return a.offsetHeight||a.scrollHeight},q.getWidth=function(a){return a.offsetWidth||a.scrollWidth},q.getPageSize=function(){var g,d,i,f;self.innerHeight&&self.scrollMaxY?(g=A.body.scrollWidth,d=self.innerHeight+self.scrollMaxY):A.body.scrollHeight>A.body.offsetHeight?(g=A.body.scrollWidth,d=A.body.scrollHeight):(g=A.body.offsetWidth,d=A.body.offsetHeight),self.innerHeight?(i=self.innerWidth,f=self.innerHeight):A.documentElement&&A.documentElement.clientHeight?(i=A.documentElement.clientWidth,f=A.documentElement.clientHeight):A.body&&(i=A.body.clientWidth,f=A.body.clientHeight);var h=Math.max(g,i),c=Math.max(d,f);return[h,c,i,f]},y.createBackground=function(){var c=A.createElement("div"),a=c.style;c.className="wmd-prompt-background",a.position="absolute",a.top="0",a.zIndex="1000",G.isIE?a.filter="alpha(opacity=50)":a.opacity="0.5";var d=q.getPageSize();return a.height=d[1]+"px",G.isIE?(a.left=A.documentElement.scrollLeft,a.width=A.documentElement.clientWidth):(a.left="0",a.width="100%"),A.body.appendChild(c),c},y.prompt=function(l,g,s){var h,m;void 0===g&&(g="");var d=function(c){var a=c.charCode||c.keyCode;27===a&&f(!0)},f=function(c){E.removeEvent(A.body,"keydown",d);var a=m.value;return c?a=null:(a=a.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(a)||(a="http://"+a)),h.parentNode.removeChild(h),s(a),!1},p=function(){h=A.createElement("div"),h.className="wmd-prompt-dialog",h.style.padding="10px;",h.style.position="fixed",h.style.width="400px",h.style.zIndex="1001";var r=A.createElement("div");r.innerHTML=l,r.style.padding="5px",h.appendChild(r);var o=A.createElement("form"),a=o.style;o.onsubmit=function(){return f(!1)},a.padding="0",a.margin="0",a.cssFloat="left",a.width="100%",a.textAlign="center",a.position="relative",h.appendChild(o),m=A.createElement("input"),m.type="text",m.value=g,a=m.style,a.display="block",a.width="80%",a.marginLeft=a.marginRight="auto",o.appendChild(m);var i=A.createElement("input");i.type="button",i.onclick=function(){return f(!1)},i.value="OK",a=i.style,a.margin="10px",a.display="inline",a.width="7em";var e=A.createElement("input");e.type="button",e.onclick=function(){return f(!0)},e.value="Cancel",a=e.style,a.margin="10px",a.display="inline",a.width="7em",o.appendChild(i),o.appendChild(e),E.addEvent(A.body,"keydown",d),h.style.top="50%",h.style.left="50%",h.style.display="block",G.isIE_5or6&&(h.style.position="absolute",h.style.top=A.documentElement.scrollTop+200+"px",h.style.left="50%"),A.body.appendChild(h),h.style.marginTop=-(q.getHeight(h)/2)+"px",h.style.marginLeft=-(q.getWidth(h)/2)+"px"};setTimeout(function(){p();var a=g.length;if(void 0!==m.selectionStart){m.selectionStart=0,m.selectionEnd=a}else{if(m.createTextRange){var c=m.createTextRange();c.collapse(!1),c.moveStart("character",-a),c.moveEnd("character",a),c.select()}}m.focus()},0)};var b=F.prototype;b.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",b.unwrap=function(c){var a=new I("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");c.selection=c.selection.replace(a,"$1 $2")},b.wrap=function(d,a){this.unwrap(d);var f=new I("(.{1,"+a+"})( +|$\\n?)","gm"),c=this;d.selection=d.selection.replace(f,function(h,g){return new I("^"+c.prefixes,"").test(h)?h:g+"\n"}),d.selection=d.selection.replace(/\s+$/,"")},b.doBold=function(c,a){return this.doBorI(c,a,2,this.getString("boldexample"))},b.doItalic=function(c,a){return this.doBorI(c,a,1,this.getString("italicexample"))},b.doBorI=function(p,v,g,d){p.trimWhitespace(),p.selection=p.selection.replace(/\n{2,}/g,"\n");var f=/(\**$)/.exec(p.before)[0],u=/(^\**)/.exec(p.after)[0],m=Math.min(f.length,u.length);if(m<g||2==m&&1==g){if(!p.selection&&u){p.after=p.after.replace(/^([*_]*)/,""),p.before=p.before.replace(/(\s?)$/,"");var s=I.$1;p.before=p.before+u+s}else{p.selection||u||(p.selection=d);var h=g>1?"**":"*";p.before=p.before+h,p.after=h+p.after}}else{p.before=p.before.replace(I("[*]{"+g+"}$",""),""),p.after=p.after.replace(I("^[*]{"+g+"}",""),"")}},b.stripLinkDefs=function(c,a){return c=c.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(g,i,f,h,d){return a[i]=g.replace(/\s*$/,""),h?(a[i]=g.replace(/["(](.+?)[")]$/,""),h+d):""})},b.addLinkDef=function(p,v){var g=0,d={};p.before=this.stripLinkDefs(p.before,d),p.selection=this.stripLinkDefs(p.selection,d),p.after=this.stripLinkDefs(p.after,d);var f="",u=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,m=function(a){g++,a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+g+"]:"),f+="\n"+a},s=function(r,i,w,a,c,n){return w=w.replace(u,s),d[c]?(m(d[c]),i+w+a+g+n):r};p.before=p.before.replace(u,s),v?m(v):p.selection=p.selection.replace(u,s);var h=g;return p.after=p.after.replace(u,s),p.after&&(p.after=p.after.replace(/\n*$/,"")),p.after||(p.selection=p.selection.replace(/\n*$/,"")),p.after+="\n\n"+f,h},b.doLinkOrImage=function(g,d,i){g.trimWhitespace(),g.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var f;if(g.endTag.length<=1||g.startTag.length<=0){if(g.selection=g.startTag+g.selection+g.endTag,g.startTag=g.endTag="",/\n\n/.test(g.selection)){return void this.addLinkDef(g,null)}var h=this,c=function(m){if(f.parentNode.removeChild(f),null!==m){g.selection=(" "+g.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var n=" [999]: "+L(m),e=h.addLinkDef(g,n);g.startTag=i?"![":"[",g.endTag="]["+e+"]",g.selection||(g.selection=h.getString(i?"imagedescription":"linkdescription"))}d()};return f=y.createBackground(),i?this.hooks.insertImageDialog(c)||y.prompt(this.getString("imagedialog"),D,c):y.prompt(this.getString("linkdialog"),j,c),!0}g.startTag=g.startTag.replace(/!?\[/,""),g.endTag="",this.addLinkDef(g,null)},b.doAutoindent=function(c){var a=this,d=!1;c.before=c.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),c.before=c.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),c.before=c.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),c.selection||/^[ \t]*(?:\n|$)/.test(c.after)||(c.after=c.after.replace(/^[^\n]*/,function(e){return c.selection=e,""}),d=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(c.before)&&a.doList&&a.doList(c),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(c.before)&&a.doBlockquote&&a.doBlockquote(c),/(\n|^)(\t|[ ]{4,}).*\n$/.test(c.before)&&a.doCode&&a.doCode(c),d&&(c.after=c.selection+c.after,c.selection="")},b.doBlockquote=function(p){p.selection=p.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(a,i,c,e){return p.before+=i,p.after=e+p.after,c}),p.before=p.before.replace(/(>[ \t]*)$/,function(a,c){return p.selection=c+p.selection,""}),p.selection=p.selection.replace(/^(\s|>)+$/,""),p.selection=p.selection||this.getString("quoteexample");var v,g="",d="";if(p.before){for(var f=p.before.replace(/\n$/,"").split("\n"),u=!1,m=0;m<f.length;m++){var s=!1;v=f[m],u=u&&v.length>0,/^>/.test(v)?(s=!0,!u&&v.length>1&&(u=!0)):s=/^[ \t]*$/.test(v)?!0:u,s?g+=v+"\n":(d+=g+v,g="\n")}/(^|\n)>/.test(g)||(d+=g,g="")}p.startTag=g,p.before=d,p.after&&(p.after=p.after.replace(/^\n?/,"\n")),p.after=p.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(a){return p.endTag=a,""});var h=function(a){var c=a?"> ":"";p.startTag&&(p.startTag=p.startTag.replace(/\n((>|\s)*)\n$/,function(l,i){return"\n"+i.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"})),p.endTag&&(p.endTag=p.endTag.replace(/^\n((>|\s)*)\n/,function(l,i){return"\n"+i.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}))};/^(?![ ]{0,3}>)/m.test(p.selection)?(this.wrap(p,K.lineLength-2),p.selection=p.selection.replace(/^/gm,"> "),h(!0),p.skipLines()):(p.selection=p.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(p),h(!1),!/^(\n|^)[ ]{0,3}>/.test(p.selection)&&p.startTag&&(p.startTag=p.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(p.selection)&&p.endTag&&(p.endTag=p.endTag.replace(/^\n{0,2}/,"\n\n"))),p.selection=this.hooks.postBlockquoteCreation(p.selection),/\n/.test(p.selection)||(p.selection=p.selection.replace(/^(> *)/,function(a,c){return p.startTag+=c,""}))},b.doCode=function(d){var a=/\S[ ]*$/.test(d.before),g=/^[ ]*\S/.test(d.after);if(!g&&!a||/\n/.test(d.selection)){d.before=d.before.replace(/[ ]{4}$/,function(e){return d.selection=e+d.selection,""});var c=1,f=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(d.before)&&(c=0),/^\n(\t|[ ]{4,})/.test(d.after)&&(f=0),d.skipLines(c,f),d.selection?/^[ ]{0,3}\S/m.test(d.selection)?/\n/.test(d.selection)?d.selection=d.selection.replace(/^/gm,"    "):d.before+="    ":d.selection=d.selection.replace(/^[ ]{4}/gm,""):(d.startTag="    ",d.selection=this.getString("codeexample"))}else{d.trimWhitespace(),d.findTags(/`/,/`/),d.startTag||d.endTag?d.endTag&&!d.startTag?(d.before+=d.endTag,d.endTag=""):d.startTag=d.endTag="":(d.startTag=d.endTag="`",d.selection||(d.selection=this.getString("codeexample")))}},b.doList=function(Q,U,v){var d=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,m=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,S="-",N=1,R=function(){var a;return v?(a=" "+N+". ",N++):a=" "+S+" ",a},w=function(a){return void 0===v&&(v=/^\s*\d/.test(a)),a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return R()})};if(Q.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!Q.before||/\n$/.test(Q.before)||/^\n/.test(Q.startTag)||(Q.before+=Q.startTag,Q.startTag=""),Q.startTag){var T=/\d+[.]/.test(Q.startTag);if(Q.startTag="",Q.selection=Q.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(Q),Q.skipLines(),T&&(Q.after=Q.after.replace(m,w)),v==T){return}}var V=1;Q.before=Q.before.replace(d,function(a){return/^\s*([*+-])/.test(a)&&(S=I.$1),V=/[^\n]\n\n[^\n]/.test(a)?1:0,w(a)}),Q.selection||(Q.selection=this.getString("litem"));var f=R(),P=1;Q.after=Q.after.replace(m,function(a){return P=/[^\n]\n\n[^\n]/.test(a)?1:0,w(a)}),Q.trimWhitespace(!0),Q.skipLines(V,P,!0),Q.startTag=f;var O=f.replace(/./g," ");this.wrap(Q,K.lineLength-O.length),Q.selection=Q.selection.replace(/\n/g,"\n"+O)},b.doHeading=function(d){if(d.selection=d.selection.replace(/\s+/g," "),d.selection=d.selection.replace(/(^\s+|\s+$)/g,""),!d.selection){return d.startTag="## ",d.selection=this.getString("headingexample"),void (d.endTag=" ##")}var a=0;d.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(d.startTag)&&(a=I.lastMatch.length),d.startTag=d.endTag="",d.findTags(null,/\s?(-+|=+)/),/=+/.test(d.endTag)&&(a=1),/-+/.test(d.endTag)&&(a=2),d.startTag=d.endTag="",d.skipLines(1,1);var g=0==a?2:a-1;if(g>0){var c=2>g?"=":"-",f=d.selection.length;for(f>K.lineLength&&(f=K.lineLength),d.endTag="\n";f--;){d.endTag+=c}}},b.doHorizontalRule=function(a){a.startTag="----------\n",a.selection="",a.skipLines(2,1,!0)}}();(function(){var e=document.querySelector("#page-remove-form");if(!!e){e.onsubmit=function(){return confirm("You are about to remove the page, are you sure?!")}}var f=document.querySelector("#message");if(!!f){setTimeout(function(){f.classList.add("hide")},2000)}var g=document.querySelectorAll(".remove-file-button");if(!!g){console.log("items");for(var b=0;b<g.length;b++){g[b].onclick=function(){return confirm("You are about to remove the file, are you sure?!")}}}var d=new Markdown.Converter();d.hooks.chain("plainLinkText",function(h){return"This is a link to "+h.replace(/^https?:\/\//,"")});var a={strings:{quoteexample:"whatever you're quoting, put it right here"}};var c=new Markdown.Editor(d,"",a);c.run()})();